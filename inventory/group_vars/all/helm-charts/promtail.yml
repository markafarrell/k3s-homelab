---
promtail_state: absent

loki_username: !vault |
          $ANSIBLE_VAULT;1.2;AES256;vault
          65336133333763323931386634376331323737653134613666656631326266623463366236313832
          3236383332393665376134626365323930313131376563380a373165623364623932393064323436
          39303239373066316632653165316134633735616530333137356461663130393563363037323436
          6330626134666630660a616161333162613366646364633832633235383332656535393031356262
          3161

loki_password: !vault |
          $ANSIBLE_VAULT;1.2;AES256;vault
          66633063613861616666653561376139353764323331376131356536333638616466663034646661
          3737313330353965343034613538633562653630343464660a363539666238643139313836336435
          62646639373931346163336630396262666361656665653030343061323534326339393866343361
          6535323231356439380a313361633736306536303735333039393666633338326564653330653438
          37316665653465613035383636643032346165333963653736393433613334303435353236303161
          32313239366635313137393464633132653435646636353434346662613734656339376234326532
          32366533356564313262363232393665633834666232616531353561633138396236303366613862
          38373461643563616339383135346566386532323835633832353865613037396530613965653031
          34623065323963643662353261316433303738396432356561363665343430353266

promtail_loki_address:
  "https://{{ loki_username }}:{{ loki_password }}@logs-prod-us-central1.grafana.net/api/prom/push"

promtail_helm_chart:
  chart_name: grafana/promtail
  repositories:
    - name: grafana
      repo_url: https://grafana.github.io/helm-charts
  name: promtail
  state: "{{ promtail_state }}"
  namespace: logging
  values:
    config:
      lokiAddress: "{{ promtail_loki_address }}"
